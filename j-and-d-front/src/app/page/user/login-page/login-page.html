<div class="login-container">

  <!-- Logo + Titre -->
  <div class="logo-section">
    <img src="assets/couronne.png" alt="Java & Dragon" />
    <h1>Java & Dragon</h1>
  </div>

  <h2 class="subtitle">Se connecter Ã  Java & Dragon</h2>

  <!-- Message d'erreur -->
  @if (loginError) {
    <div class="error-box">Login ou mot de passe incorrect</div>
  }

  <!-- Carte de connexion -->
  <form class="login-card" [formGroup]="userForm" (ngSubmit)="connecter()">

    <!-- LOGIN -->
    <label for="login">Adresse e-mail ou nom d'utilisateur</label>
    <input
      id="login"
      type="text"
      formControlName="login"
      [class.invalid]="loginCtrl.invalid && (loginCtrl.dirty || loginCtrl.touched)"
    />

    @if (loginCtrl.hasError('required')) {
      <div class="input-error">Le login est obligatoire</div>
    }

    <!-- PASSWORD -->
    <label for="password">Mot de passe</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      [class.invalid]="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)"
    />

    @if (passwordCtrl.hasError('required')) {
      <div class="input-error">Le mot de passe est obligatoire</div>
    }
    @else if (passwordCtrl.hasError('minlength')) {
      <div class="input-error">Le mot de passe doit faire 6 caractÃ¨res minimum</div>
    }

    <!-- CONNEXION -->
    <button type="submit" class="btn-orange" [disabled]="userForm.invalid">
      Connexion
    </button>

    <!-- DISCORD -->
    <button type="button" class="btn-discord">
      <span class="discord-icon">ðŸ’¬</span> Login with Discord
    </button>

    <!-- SEPARATEUR -->
    <div class="separator">ou</div>

    <!-- CRÃ‰ER COMPTE -->
    <a routerLink="/inscription" class="btn-create">
      CrÃ©er un compte
    </a>

  </form>
</div>
